<head>
  <title>796+</title>
</head>

<body>
  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">796+</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          {{> ticker}}
        </ul>

        <ul class="nav navbar-nav navbar-right">
          <li><a href="#" id="main_wallet">Main Wallet</a></li>
          <li><a href="#" id="futures_wallet">Futures Wallet</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>

  <div class="container">
    {{> errors}}
    {{> login}}
    {{> orderbook}}
  </div>
</body>

<template name="errors">
  {{#each errors}}
    {{> error}}
  {{/each}}
</template>

<template name="error">
  <div class="alert alert-danger" role="alert">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    {{message}}
  </div>
</template>

<template name="ticker">
  <li><a><b>Last:</b> <span id="last-price">{{ticker.last}}</span></a></li>
  <li><a><b>High:</b> {{ticker.high}}</a></li>
  <li><a><b>Low:</b> {{ticker.low}}</a></li>
  <li><a><b>Last update:</b> {{ticker.date}}</a></li>
</template>

<template name="login">
  <form class="form-horizontal" role="form">
    <div class="form-group">
      <label for="appId" class="control-label col-sm-2">App ID</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="appId" placeholder="App ID" name="app_id" required>
      </div>
    </div>
    <div class="form-group">
      <label for="apiKey" class="control-label col-sm-2">Api Key</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="apiKey" placeholder="Api Key" name="api_key" required>
      </div>
    </div>
    <div class="form-group">
      <label for="secretKey" class="control-label col-sm-2">Secret Key</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="secretKey" placeholder="Secret Key" name="secret_key" required>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-default">Login</button>
      </div>
    </div>
  </form>
</template>

<template name="orderbook">
  <div class="row">
    <div class="col-md-4">
      <h3>Bids</h3>
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Price</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
        {{#each orders.bids}}
          {{> order}}
        {{/each}}
        </tbody>
      </table>
    </div>
    <div class="col-md-4">
      <h3>Asks</h3>
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Price</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
        {{#each orders.asks}}
          {{> order}}
        {{/each}}
        </tbody>
      </table>
    </div>
    <div class="col-md-4">
      <h3>Latest trades</h3>
      <table class="table table-striped table-condensed">
        <thead>
          <tr>
            <th>Time</th>
            <th>Price</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody>
        {{#each trades}}
          {{> trade}}
        {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>

<template name="trade">
<tr class='{{type}}'>
    <td>{{formatDate date}}</td>
    <td>{{price}}</td>
    <td>{{amount}}</td>
</tr>
</template>

<template name="order">
  <tr>
    <td>{{price}}</td>
    <td>{{amount}}</td>
  </tr>
</template>
